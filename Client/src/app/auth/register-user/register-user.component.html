
          <div class="container-fluid col-xs-12 col-lg-8 d-flex  flex-row justify-content-center shadow-lg">

            <div class="jumbotron-fluid " style="background:transparent !important">


                    <!-- <div class="card mx-3 my-5 col-xs-12 col-lg-6 "> -->
                      <h1 class="d-flex flex-row justify-content-center mt-3 mx-auto"><i class="fas fa-user-circle text-danger mx-auto" style="size: 50px"></i></h1>
                      <div class="card-body shadow-lg">
                          <h5 class="card-title  bg-info text-light d-flex justify-content-center"><span>Register User</span></h5>



                          <form [formGroup]="userForm" (ngSubmit)="onSubmit()" >

                              <div class="form-group">
                              <label for="full_name" [ngClass]="fval.full_name.valid ? 'text-info' : ''">Full Name:<i  *ngIf="fval.full_name.valid" class="material-icons">check_circle</i></label>
                          <input id="full_name" formControlName="full_name" type="text" class="form-control"  [ngClass]=" { 'is-invalid': (fval.full_name.touched||fval.full_name.dirty) && fval.full_name.errors }" placeholder="Enter Name" autocomplete="off"/>
                          <div class="text-danger col" *ngIf="(fval.full_name.touched||fval.full_name.dirty)  && fval.full_name.errors?.required">The full name is required</div>

                          </div>

                          <div class="form-group">
                            <label for="email" [ngClass]="fval.email.valid ? 'text-info' : ''">Enter Email Address<i  *ngIf="fval.email.valid" class="material-icons">check_circle</i></label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text"><i class="fas fa-envelope text-danger mx-auto" style="size: 50px"></i></div>
                            </div>
                            <input id="email" formControlName="email" type="text" class="form-control"  [ngClass]=" { 'is-invalid': (fval.email.touched||fval.email.dirty) && fval.email.errors }" placeholder="Email Address" autocomplete="off"/>
                          </div>
                        <div class="text-danger col" *ngIf="(fval.email.touched||fval.email.dirty)  && fval.email.errors?.required">The email address is required</div>
                        <div class="text-danger col" *ngIf="(fval.email.touched||fval.email.dirty)  && fval.email.errors?.email">Please enter valid email address!</div>
                        </div>



                <div class="form-group">
                        <label for="branch_name" [ngClass]="fval.branch_name.valid ? 'text-info' : ''">The Branch:<i  *ngIf="fval.branch_name.valid" class="material-icons">check_circle</i></label>
                <!-- <input type="text"  list="branch_name"  formControlName="branch_name" class="form-control"  [ngClass]=" { 'is-invalid': (fval.branch_name.touched||fval.branch_name.dirty) && fval.branch_name.errors }" autocomplete="off" placeholder="Select The Branch"> -->

                    <select formControlName="branch_name" class="form-control"  [ngClass]=" { 'is-invalid': (fval.branch_name.touched||fval.branch_name.dirty) && fval.branch_name.errors }" autocomplete="off" placeholder="Select The Branch">
                      <option selected>Select The Branch</option>
                        <option *ngFor="let branch of theBranches$|async">{{branch.branch_name}}</option>
                      </select>
                <div class="text-danger col" *ngIf="(fval.branch_name.touched||fval.branch_name.dirty)  && fval.branch_name.errors?.required">The branch_name is required</div>
                <div class="text-danger col" *ngIf="(fval.branch_name.touched||fval.branch_name.dirty)  && fval.branch_name.errors?.belongTobranch_names">Please select a valid branch_name</div>
                <!-- <ngx-alerts></ngx-alerts> -->
                </div>








                <div class="form-group">

                  <label for="user_role" [ngClass]="fval.user_role.valid ? 'text-info' : ''">User Role:<i  *ngIf="fval.user_role.valid" class="material-icons">check_circle</i></label>


              <select id="user_role"  formControlName="user_role" class="form-control"  [ngClass]=" { 'is-invalid': (fval.user_role.touched||fval.user_role.dirty) && fval.user_role.errors }" autocomplete="off" placeholder="Select The User Role" (change)="setSelectedChanges($event)">
                <option selected>Select The User Role</option>
                  <option *ngFor="let roles of userRoleInfo$|async">{{roles.user_roles_name}}</option>
                </select>

            <div class="text-danger col" *ngIf="(fval.user_role.touched||fval.user_role.dirty)  && fval.user_role.errors?.required">The user role name is required</div>

            <div class="text-danger col" *ngIf="(fval.user_role.touched||fval.user_role.dirty)  && fval.user_role.errors?.belongTouser_roles">Please select a valid user_role</div>


            </div>



                <div class="form-group">
                    <label for="main_contact_number" [ngClass]="fval.main_contact_number.valid ? 'text-info' : ''">Enter Mobile Number<i  *ngIf="fval.main_contact_number.valid" class="material-icons">check_circle</i></label>
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fas fa-phone text-danger mx-auto" style="size: 50px"></i></div>
                    </div>
                    <input id="main_contact_number" formControlName="main_contact_number" type="text" class="form-control"  [ngClass]=" { 'is-invalid': (fval.main_contact_number.touched||fval.main_contact_number.dirty) && fval.main_contact_number.errors }" placeholder="Mobile number like 07XXXXXXXX" autocomplete="off"/>
                  </div>
                <div class="text-danger col" *ngIf="(fval.main_contact_number.touched||fval.main_contact_number.dirty)  && fval.main_contact_number.errors?.required">The main mobile number is required</div>
                <div class="text-danger col" *ngIf="(fval.main_contact_number.touched||fval.main_contact_number.dirty)  && fval.main_contact_number.errors?.hasNumber">The main mobile number should be equal to 10 "digits"</div>
                </div>





            <!--

                  <div class="form-group">
                  <label for="sex" [ngClass]="fval.sex.valid ? 'text-info' : ''"><i  *ngIf="fval.sex.valid" class="material-icons">check_circle</i>Gender:</label>
                  <input type="text"  list="sex"  formControlName="sex" class="form-control"  [ngClass]=" { 'is-invalid': (fval.sex.touched||fval.sex.dirty) && fval.sex.errors }" autocomplete="off" placeholder="Select The Gender">
                  <datalist id="sex" class="bg-info">
                    <option >Male</option>
                    <option >Female</option>
                    </datalist>
                  <div class="text-danger col" *ngIf="(fval.sex.touched||fval.sex.dirty)  && fval.sex.errors?.required">Gender is required</div>
                  </div> -->


            <!--
                  <div class="form-group">
                    <label for="date_of_birth" [ngClass]="fval.date_of_birth.valid ? 'text-info' : ''"><i  *ngIf="fval.date_of_birth.valid" class="material-icons">check_circle</i>Date Of Birth:</label>

                <input  id="date_of_birth" formControlName="date_of_birth" type="text" class="form-control"  [ngClass]=" { 'is-invalid': (fval.date_of_birth.touched||fval.date_of_birth.dirty) && fval.date_of_birth.errors }" placeholder="Click The Field To Select DateOfBirth" autocomplete="off" class="form-control"

                bsDatepicker [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY',isAnimated: true }"
                placement="top" />
                <div class="text-danger col" *ngIf="(fval.date_of_birth.touched||fval.date_of_birth.dirty)  && fval.date_of_birth.errors?.required">The Last name is required</div>

                </div> -->

                <div class="form-group">
                        <label for="password" [ngClass]="fval.password.valid ? 'text-info' : ''">Enter Password:<i  *ngIf="fval.password.valid" class="material-icons">check_circle</i></label>

                        <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                        <div class="input-group-text"><i class="fas fa-lock text-danger mx-auto" style="size: 50px"></i></div>
                                      </div>
                            <input id="password" formControlName="password" type="password" class="form-control" [ngClass]="{ 'is-invalid': (fval.password.touched||fval.password.dirty) && fval.password.errors }" placeholder="password" autocomplete="off">
                        </div>

                                <label class="text-danger col" *ngIf="(fval.password.touched||fval.password.dirty) && fval.password.errors?.required">
                                                  Password is Required!
                                 </label>

                                     <label class="col" *ngIf="((fval.password.touched||fval.password.dirty) && fval.password.invalid)" [ngClass]="fval.password.errors?.required ||  fval.password.errors?.minlength  ? 'text-danger' : 'text-info'">
                                         <i class="material-icons">{{ fval.password.errors?.required  ||  fval.password.errors?.minlength ? 'cancel' : 'check_circle' }}</i>
                                                  Minimum of four digits!!!
                                                </label>
                                                <label class="col" *ngIf="((fval.password.touched||fval.password.dirty) && fval.password.invalid)" [ngClass]="fval.password.errors?.required ||  fval.password.errors?.minlength  ? 'text-danger' : 'text-info'">
                                                  <i class="material-icons">{{ fval.password.errors?.required  ||  fval.password.errors?.maxlength ? 'cancel' : 'check_circle' }}</i>
                                                          Maximum four digits allowed!!!
                                                         </label>

                                                <label class="col" *ngIf="((fval.password.touched||fval.password.dirty)  && fval.password.invalid)"  [ngClass]="fval.password.hasError('required') || fval.password.hasError('hasNumber')  ? 'text-danger' : 'text-info'">
                                                  <i class="material-icons">{{ fval.password.hasError('required') ||
                                                        fval.password.hasError('hasNumber') ? 'cancel' :
                                                    'check_circle' }}</i>
                                                  Only digits are Allowed!!
                                                </label>
                                              </div>


                <div class="row d-flex flex-row">
                <div class="col">
                  <div class="form-group">

                    <button type="submit" class="btn btn-info" [disabled]="!userForm.valid">Submit</button>



                    <ngx-spinner
                    class="bg-info"
                    size="medium"

                    type="ball-scale-multiple" >
                      <p class="text-light">Wait!!!...</p>
                    </ngx-spinner>

                    <label class="col"  *ngIf="errored" class="text-danger">
                      <i class="material-icons">Cancel</i>

                       <ngx-alerts></ngx-alerts>

                    </label>


                    <label class="col"  *ngIf="posted" class="text-info">
                      <i class="material-icons">check_circle</i>
                      <ngx-alerts></ngx-alerts>

                    </label>

                    <button type="button" class="btn btn-danger mx-2" (click)='returnHome()'>Cacel</button>
                  </div>



                </div>

                  </div>
                </form>
                 <!-- </div>  -->
                <!-- </div>   -->
                </div>

              </div>


